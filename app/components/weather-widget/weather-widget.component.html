<div class="widget-weather">
  <h1 class="widget-weather__title">Weather</h1>
  <div class="widget-weather__container opt-container-large">
    <ng-container *ngFor="let weather of currentWeatherData">
      <div class="widget-weather__card" (click)="openCityWeatherPage(weather.cityId)">
        <div class="widget-weather__card__box">
          <h2 class="widget-weather__card__heading">{{ weather.cityName }}, {{weather.country}}</h2>
          <img class="widget-weather__card__icon" *ngIf="weather.icon" [src]="'https://openweathermap.org/img/w/' + weather.icon + '.png'" alt="Weather Icon" />
          <p class="widget-weather__card__description">{{ weather.description }}</p>
          <p class="widget-weather__card__date">{{ currentDate | date:'fullDate' }}</p>
        </div>
        <div class="widget-weather__details">
          <h3 class="widget-weather__details__heading">Details</h3>
          <div class="widget-weather__details__row">
            <div class="widget-weather__details__column">
              <div class="widget-weather__details__box">
                <svg xmlns="http://www.w3.org/2000/svg" width="41" height="40" viewBox="0 0 41 40" fill="none">
                  <path d="M22.3837 25.4667V14.1667C22.3837 13.7246 22.2097 13.3007 21.8998 12.9882C21.59 12.6756 21.1697 12.5 20.7315 12.5C20.2933 12.5 19.8731 12.6756 19.5632 12.9882C19.2534 13.3007 19.0793 13.7246 19.0793 14.1667V25.4667C18.5799 25.7575 18.1646 26.1751 17.8748 26.6781C17.5849 27.181 17.4306 27.7516 17.4271 28.3333C17.4271 29.2174 17.7752 30.0652 18.3949 30.6904C19.0146 31.3155 19.8551 31.6667 20.7315 31.6667C21.6079 31.6667 22.4484 31.3155 23.0681 30.6904C23.6878 30.0652 24.0359 29.2174 24.0359 28.3333C24.0325 27.7516 23.8781 27.181 23.5883 26.6781C23.2984 26.1751 22.8832 25.7575 22.3837 25.4667ZM28.1665 21.6667V9.16667C28.1665 7.17754 27.3832 5.26989 25.9888 3.86337C24.5945 2.45684 22.7034 1.66667 20.7315 1.66667C18.7596 1.66667 16.8685 2.45684 15.4742 3.86337C14.0799 5.26989 13.2965 7.17754 13.2965 9.16667V21.6667C12.1546 22.972 11.3703 24.5555 11.0211 26.2604C10.672 27.9653 10.7701 29.7327 11.3059 31.3876C11.8416 33.0425 12.7964 34.5277 14.0757 35.6962C15.355 36.8647 16.9146 37.6761 18.6002 38.05C19.3004 38.211 20.0139 38.3058 20.7315 38.3333C22.6491 38.3423 24.5282 37.7901 26.1409 36.7436C27.7536 35.697 29.0309 34.2011 29.8178 32.4371C30.6047 30.6731 30.8676 28.7167 30.5745 26.805C30.2814 24.8934 29.4449 23.1085 28.1665 21.6667ZM24.8621 33.45C23.5475 34.6258 21.8237 35.2266 20.0699 35.1204C18.3162 35.0141 16.6761 34.2094 15.5105 32.8833C14.3449 31.5573 13.7493 29.8184 13.8546 28.0493C13.96 26.2802 14.7577 24.6258 16.0723 23.45C16.2284 23.2956 16.3526 23.1116 16.4377 22.9084C16.5227 22.7053 16.567 22.4872 16.5679 22.2667V9.16667C16.5679 8.0616 17.0031 7.00179 17.7777 6.22039C18.5524 5.43899 19.603 5 20.6985 5C21.794 5 22.8446 5.43899 23.6192 6.22039C24.3938 7.00179 24.829 8.0616 24.829 9.16667V22.4C24.8299 22.6205 24.8742 22.8387 24.9593 23.0418C25.0444 23.2449 25.1686 23.429 25.3247 23.5833C26 24.2415 26.5286 25.0372 26.8752 25.9176C27.2217 26.7979 27.3783 27.7426 27.3346 28.6888C27.2908 29.635 27.0476 30.561 26.6213 31.4049C26.195 32.2489 25.5952 32.9915 24.8621 33.5833V33.45Z" fill="url(#paint0_linear_57_118)"/>
                  <defs>
                    <linearGradient id="paint0_linear_57_118" x1="20.7536" y1="1.66667" x2="20.7536" y2="38.3334" gradientUnits="userSpaceOnUse">
                      <stop stop-color="#3C6FD1"/>
                      <stop offset="0.0001" stop-color="#3C6FD1"/>
                      <stop offset="1" stop-color="#7CA9FF"/>
                    </linearGradient>
                  </defs>
                </svg>
                <div class="widget-weather__details__wrapper">
                  <p class="widget-weather__details__temperature">{{ weather.temperature }}Â°</p>
                  <p class="widget-weather__details__title">Celsius</p>
                </div>
              </div>
              <div class="widget-weather__details__box">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                  <path d="M6.94421 16.6667C6.50601 16.6667 6.08577 16.4911 5.77591 16.1785C5.46606 15.866 5.29199 15.442 5.29199 15C5.29199 14.558 5.46606 14.1341 5.77591 13.8215C6.08577 13.5089 6.50601 13.3333 6.94421 13.3333H20.1619C21.0383 13.3333 21.8788 12.9821 22.4985 12.357C23.1182 11.7319 23.4664 10.8841 23.4664 10C23.4664 9.11595 23.1182 8.2681 22.4985 7.64298C21.8788 7.01786 21.0383 6.66667 20.1619 6.66667C19.2532 6.66667 18.4271 7.03333 17.8323 7.65C17.6819 7.81187 17.5003 7.9409 17.2985 8.02911C17.0967 8.11732 16.8791 8.16283 16.6592 8.16283C16.4393 8.16283 16.2218 8.11732 16.02 8.02911C15.8182 7.9409 15.6365 7.81187 15.4862 7.65C14.8418 7 14.8418 5.93333 15.4862 5.28333C16.6923 4.08333 18.3445 3.33333 20.1619 3.33333C21.9147 3.33333 23.5957 4.03571 24.8351 5.28596C26.0745 6.5362 26.7708 8.23189 26.7708 10C26.7708 11.7681 26.0745 13.4638 24.8351 14.714C23.5957 15.9643 21.9147 16.6667 20.1619 16.6667H6.94421ZM31.7274 20C32.1656 20 32.5859 19.8244 32.8957 19.5118C33.2056 19.1993 33.3797 18.7754 33.3797 18.3333C33.3797 17.8913 33.2056 17.4674 32.8957 17.1548C32.5859 16.8423 32.1656 16.6667 31.7274 16.6667C31.2648 16.6667 30.8518 16.85 30.5544 17.15C30.4015 17.3045 30.22 17.4271 30.0201 17.5107C29.8202 17.5944 29.6059 17.6374 29.3896 17.6374C29.1732 17.6374 28.9589 17.5944 28.759 17.5107C28.5592 17.4271 28.3776 17.3045 28.2247 17.15C27.5969 16.5 27.5969 15.45 28.2247 14.8C29.1169 13.9 30.3561 13.3333 31.7274 13.3333C33.042 13.3333 34.3028 13.8601 35.2323 14.7978C36.1619 15.7355 36.6841 17.0073 36.6841 18.3333C36.6841 19.6594 36.1619 20.9312 35.2323 21.8689C34.3028 22.8065 33.042 23.3333 31.7274 23.3333H8.59642C8.15823 23.3333 7.73798 23.1577 7.42813 22.8452C7.11828 22.5326 6.94421 22.1087 6.94421 21.6667C6.94421 21.2246 7.11828 20.8007 7.42813 20.4882C7.73798 20.1756 8.15823 20 8.59642 20H31.7274ZM30.0752 30H6.94421C6.50601 30 6.08577 29.8244 5.77591 29.5118C5.46606 29.1993 5.29199 28.7754 5.29199 28.3333C5.29199 27.8913 5.46606 27.4674 5.77591 27.1548C6.08577 26.8423 6.50601 26.6667 6.94421 26.6667H30.0752C31.3898 26.6667 32.6506 27.1935 33.5801 28.1311C34.5097 29.0688 35.0319 30.3406 35.0319 31.6667C35.0319 32.9927 34.5097 34.2645 33.5801 35.2022C32.6506 36.1399 31.3898 36.6667 30.0752 36.6667C28.7039 36.6667 27.4647 36.1 26.5725 35.2C25.9447 34.55 25.9447 33.5 26.5725 32.85C26.7254 32.6955 26.9069 32.5729 27.1068 32.4893C27.3067 32.4056 27.521 32.3626 27.7373 32.3626C27.9537 32.3626 28.168 32.4056 28.3679 32.4893C28.5677 32.5729 28.7493 32.6955 28.9022 32.85C29.1996 33.15 29.6126 33.3333 30.0752 33.3333C30.5134 33.3333 30.9337 33.1577 31.2435 32.8452C31.5534 32.5326 31.7274 32.1087 31.7274 31.6667C31.7274 31.2246 31.5534 30.8007 31.2435 30.4882C30.9337 30.1756 30.5134 30 30.0752 30Z" fill="url(#paint0_linear_57_104)"/>
                  <defs>
                    <linearGradient id="paint0_linear_57_104" x1="20.988" y1="3.33333" x2="20.988" y2="36.6667" gradientUnits="userSpaceOnUse">
                      <stop stop-color="#3C6FD1"/>
                      <stop offset="0.0001" stop-color="#3C6FD1"/>
                      <stop offset="1" stop-color="#7CA9FF"/>
                    </linearGradient>
                  </defs>
                </svg>
                <div class="widget-weather__details__wrapper">
                  <p class="widget-weather__details__wind">{{weather.windSpeed}} m/s</p>
                  <p class="widget-weather__details__title">Wind</p>
                </div>
              </div>
            </div>
            <div class="widget-weather__details__column">
              <div class="widget-weather__details__box">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                  <path d="M10.2489 23.3333C10.6871 23.3333 11.1073 23.5089 11.4172 23.8215C11.727 24.1341 11.9011 24.558 11.9011 25C11.9011 25.442 11.727 25.866 11.4172 26.1785C11.1073 26.4911 10.6871 26.6667 10.2489 26.6667C9.16401 26.6667 8.08977 26.4511 7.08749 26.0323C6.08521 25.6135 5.17452 24.9997 4.40741 24.2259C2.85815 22.6631 1.98779 20.5435 1.98779 18.3333C1.98779 16.1232 2.85815 14.0036 4.40741 12.4408C5.95666 10.878 8.0579 10 10.2489 10C11.9011 6.08333 15.7012 3.33333 20.1622 3.33333C25.8293 3.33333 30.472 7.76667 30.9016 13.3833L31.7277 13.3333C33.4805 13.3333 35.1614 14.0357 36.4008 15.286C37.6402 16.5362 38.3365 18.2319 38.3365 20C38.3365 21.7681 37.6402 23.4638 36.4008 24.714C35.1614 25.9643 33.4805 26.6667 31.7277 26.6667H30.0755C29.6373 26.6667 29.217 26.4911 28.9072 26.1785C28.5973 25.866 28.4232 25.442 28.4232 25C28.4232 24.558 28.5973 24.1341 28.9072 23.8215C29.217 23.5089 29.6373 23.3333 30.0755 23.3333H31.7277C32.6041 23.3333 33.4446 22.9821 34.0643 22.357C34.684 21.7319 35.0321 20.8841 35.0321 20C35.0321 19.1159 34.684 18.2681 34.0643 17.643C33.4446 17.0179 32.6041 16.6667 31.7277 16.6667H28.4232V15C28.4232 12.7899 27.5529 10.6702 26.0036 9.10744C24.4544 7.54464 22.3531 6.66667 20.1622 6.66667C16.0316 6.66667 12.6446 9.7 12.0002 13.65C11.455 13.45 10.8602 13.3333 10.2489 13.3333C8.93429 13.3333 7.67354 13.8601 6.74399 14.7978C5.81444 15.7355 5.29222 17.0073 5.29222 18.3333C5.29222 19.6594 5.81444 20.9312 6.74399 21.8689C7.67354 22.8066 8.93429 23.3333 10.2489 23.3333ZM16.8577 30C17.7341 30 18.5746 30.3512 19.1943 30.9763C19.814 31.6014 20.1622 32.4493 20.1622 33.3333C20.1622 34.2174 19.814 35.0652 19.1943 35.6904C18.5746 36.3155 17.7341 36.6667 16.8577 36.6667C15.9813 36.6667 15.1408 36.3155 14.5211 35.6904C13.9014 35.0652 13.5533 34.2174 13.5533 33.3333C13.5533 32.4493 13.9014 31.6014 14.5211 30.9763C15.1408 30.3512 15.9813 30 16.8577 30ZM24.2927 26.6667C24.95 26.6667 25.5804 26.9301 26.0451 27.3989C26.5099 27.8677 26.771 28.5036 26.771 29.1667C26.771 29.8297 26.5099 30.4656 26.0451 30.9344C25.5804 31.4033 24.95 31.6667 24.2927 31.6667C23.6354 31.6667 23.005 31.4033 22.5403 30.9344C22.0755 30.4656 21.8144 29.8297 21.8144 29.1667C21.8144 28.5036 22.0755 27.8677 22.5403 27.3989C23.005 26.9301 23.6354 26.6667 24.2927 26.6667ZM17.6838 20C18.3411 20 18.9715 20.2634 19.4363 20.7322C19.9011 21.2011 20.1622 21.837 20.1622 22.5C20.1622 23.163 19.9011 23.7989 19.4363 24.2678C18.9715 24.7366 18.3411 25 17.6838 25C17.0265 25 16.3962 24.7366 15.9314 24.2678C15.4666 23.7989 15.2055 23.163 15.2055 22.5C15.2055 21.837 15.4666 21.2011 15.9314 20.7322C16.3962 20.2634 17.0265 20 17.6838 20Z" fill="url(#paint0_linear_57_111)"/>
                  <defs>
                    <linearGradient id="paint0_linear_57_111" x1="20.1622" y1="3.33333" x2="20.1622" y2="36.6667" gradientUnits="userSpaceOnUse">
                      <stop stop-color="#3C6FD1"/>
                      <stop offset="0.0001" stop-color="#3C6FD1"/>
                      <stop offset="1" stop-color="#7CA9FF"/>
                    </linearGradient>
                  </defs>
                </svg>
                <div class="widget-weather__details__wrapper">
                  <p class="widget-weather__details__humidity">{{weather.humidity}}%</p>
                  <p class="widget-weather__details__title">Humidity</p>
                </div>
              </div>
              <div class="widget-weather__details__box">
                <svg fill="url(#gradient)" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 188.377 188.377" xml:space="preserve">
                  <defs>
                    <linearGradient id="gradient" x1="0" y1="0" x2="0" y2="1">
                      <stop offset="0%" stop-color="#3C6FD1" />
                      <stop offset="0.01%" stop-color="#3C6FD1" />
                      <stop offset="100%" stop-color="#7CA9FF" />
                    </linearGradient>
                  </defs>
                  <g>
                    <g>
                      <g>
                        <path d="M158.717,24.669c-5.23-12.101-17.528-20.058-31.432-20.058c-17.526,0-32,12.741-33.825,29.07
                          c-12.736,1.128-22.754,11.749-22.754,24.64c0,13.017,10.154,23.763,23.206,24.675c0.218,0.042,0.439,0.063,0.663,0.063h63.166
                          c0.096,0,0.19-0.004,0.284-0.01c0.28,0.007,0.562,0.01,0.844,0.01c16.271,0,29.508-13.097,29.508-29.195
                          C188.377,37.717,175.219,24.596,158.717,24.669z M158.868,75.927c-0.326,0-0.649-0.007-0.97-0.021
                          c-0.054-0.004-0.108-0.004-0.162-0.004c-0.139,0-0.277,0.007-0.413,0.024H95.028c-0.089-0.01-0.176-0.017-0.265-0.024
                          c-9.493-0.481-16.927-8.204-16.927-17.582c0-10.025,8.7-18.021,18.829-17.582c0.97,0.045,1.924-0.324,2.627-0.996
                          c0.705-0.676,1.104-1.619,1.104-2.594c0-14.009,12.062-25.406,26.888-25.406c11.791,0,22.097,7.132,25.647,17.746
                          c0.524,1.57,2.07,2.622,3.719,2.417c0.73-0.07,1.469-0.104,2.218-0.104c12.339,0,22.377,9.897,22.377,22.063
                          C181.245,66.031,171.208,75.927,158.868,75.927z" />
                        <path d="M102.797,115.152L102.797,115.152v-7.133H12.176l6.519-6.519l-5.042-5.042L1.045,109.065
                          C0.376,109.733,0,110.638,0,111.586c0,0.947,0.376,1.852,1.045,2.521l12.607,12.606l5.042-5.042l-6.519-6.519H102.797z" />
                        <path d="M131.324,143.678v-7.132H40.702l6.519-6.519l-5.042-5.042l-12.607,12.606c-0.669,0.669-1.045,1.574-1.045,2.521
                          c0,0.947,0.376,1.852,1.045,2.521l12.607,12.606l5.042-5.042l-6.519-6.519H131.324z" />
                        <path d="M156.284,153.512l-5.042,5.042l6.519,6.519H63.573v7.132h94.188l-6.519,6.519l5.042,5.042l12.607-12.606
                          c0.669-0.669,1.045-1.574,1.045-2.521c0-0.947-0.376-1.852-1.045-2.521L156.284,153.512z" />
                      </g>
                    </g>
                  </g>
                </svg>
                <div class="widget-weather__details__wrapper">
                  <p class="widget-weather__details__pressure">{{weather.pressure}} hPa</p>
                  <p class="widget-weather__details__title">Pressure</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
